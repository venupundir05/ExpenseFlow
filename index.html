<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#64ffda">
  <meta name="description" content="Take control of your finances with our intuitive expense tracker">
  <meta name="keywords" content="expense tracker, budget, finance, money management, PWA">
  <meta name="author" content="ExpenseFlow">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- PWA Meta Tags -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="ExpenseFlow">
  <meta name="msapplication-TileColor" content="#0f0f23">
  <meta name="msapplication-navbutton-color" content="#64ffda">

  <!-- Manifest -->
  <link rel="manifest" href="manifest.json">

  <!-- Apple Touch Icons -->
  <link rel="apple-touch-icon"
    href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE5MiIgdmlld0JveD0iMCAwIDE5MiAxOTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIiByeD0iNDIiIGZpbGw9InVybCgjZ3JhZGllbnQwX2xpbmVhclswXSkiLz4KPHBhdGggZD0iTTQ4IDY0SDQ4LjA0OEgxNDRWMTI4SDk2VjE0NEgxNDRDMTUyLjgzNyAxNDQgMTYwIDEzNi44MzcgMTYwIDEyOFY2NEM1OCA1Ni4xNjMgNTIuMDQzIDQ4IDQ4IEg0OEM0MC4wNzEgNDggMzIgNTYuMDcxIDMyIDY0VjEyOEMzMiAxMzUuOTI5IDQwLjA3MSAxNDQgNDggMTQ0SDgwVjEyOEg0OFY2NFoiIGZpbGw9IiM2NGZmZGEiLz4KPHBhdGggZD0iTTY0IDgwSDgwVjk2SDY0VjgwWiIgZmlsbD0iIzY0ZmZkYSIvPgo8cGF0aCBkPSJNOTYgODBIMTI4Vjk2SDk2VjgwWiIgZmlsbD0iIzY0ZmZkYSIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJncmFkaWVudDBfbGluZWFyWzBdIiB4MT0iMCIgeTE9IjAiIHgyPSIxOTIiIHkyPSIxOTIiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iIzY2N2VlYSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM3NjRiYTIiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K">

  <title>ExpenseFlow - Smart Money Management</title>
  <link rel="stylesheet" href="expensetracker.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* =========================
   MOBILE RESPONSIVE STYLES
   ========================= */
@media (max-width: 768px) {

  /* General */
  body {
    overflow-x: hidden;
  }

  .container {
    padding: 1rem;
  }

  /* Navbar */
  .nav-menu {
    position: absolute;
    top: 70px;
    left: 0;
    width: 100%;
    background: #0f0f23;
    flex-direction: column;
    align-items: center;
    display: none;
  }

  .nav-menu.active {
    display: flex;
  }

  .nav-link {
    padding: 1rem;
    width: 100%;
    text-align: center;
  }

  .nav-toggle {
    display: block;
    cursor: pointer;
  }

  .user-profile {
    display: none;
  }

  /* Hero */
  .hero-title {
    font-size: 1.8rem;
    text-align: center;
  }

  .hero-subtitle {
    text-align: center;
    font-size: 1rem;
  }

  /* Balance & Cards */
  /* Styles moved to expensetracker.css */


  /* Filters */
  .filter-controls {
    flex-direction: column;
    gap: 0.75rem;
  }

  .advanced-filters {
    flex-direction: column;
  }

  .date-filters,
  .amount-filters {
    flex-direction: column;
    width: 100%;
  }

  /* Transaction Form */
  .form-row {
    flex-direction: column;
  }

  .form-control {
    width: 100%;
  }

  /* Footer */
  .footer-container {
    flex-direction: column;
    gap: 2rem;
    text-align: center;
  }

  .footer-stats {
    flex-direction: column;
    gap: 0.5rem;
  }
}
    </style>
  </head>
  <body>
    <!-- Global Loader -->
<div id="global-loader" class="global-loader hidden">
  <div class="spinner"></div>
</div>

    <!-- Header -->
    <header class="header">
      <nav class="navbar">
        <div class="nav-container">
          <div class="nav-logo">
            <i class="fas fa-wallet"></i>
            <span><a href="index.html" class="nav-link">ExpenseFlow</a></span>
          </div>
          <div class="card-content">
            <h4>Income</h4>
            <p id="money-plus" class="money-plus">
              +&#8377;0.00
            </p>
          </div>
        </div>
        <div class="expense-card">
          <div class="card-icon expense-icon">
            <i class="fas fa-arrow-down"></i>
          </div>
          <div class="card-content">
            <h4>Expense</h4>
            <p id="money-minus" class="money-minus">
              -&#8377;0.00
            </p>
          </div>
        </div>
      </div>

      <!-- Transaction History -->
      <div class="history-section">
        <div class="section-header">
          <h3><i class="fas fa-history"></i> Transaction History</h3>
          <div class="filter-controls">
            <div class="search-container">
              <input type="text" id="search-input" placeholder="Search transactions..." class="search-input">
              <i class="fas fa-search search-icon"></i>
            </div>
            <div class="filter-buttons">
              <button class="filter-btn active" data-filter="all">All</button>
              <button class="filter-btn" data-filter="income">Income</button>
              <button class="filter-btn" data-filter="expense">Expense</button>
            </div>
            <div class="advanced-filters">
              <select id="category-filter" class="category-select">
                <option value="all">All Categories</option>
                <option value="food">ğŸ½ï¸ Food & Dining</option>
                <option value="transport">ğŸš— Transportation</option>
                <option value="shopping">ğŸ›’ Shopping</option>
                <option value="entertainment">ğŸ¬ Entertainment</option>
                <option value="bills">ğŸ’¡ Bills & Utilities</option>
                <option value="healthcare">ğŸ¥ Healthcare</option>
                <option value="education">ğŸ“š Education</option>
                <option value="travel">âœˆï¸ Travel</option>
                <option value="salary">ğŸ’¼ Salary</option>
                <option value="freelance">ğŸ’» Freelance</option>
                <option value="investment">ğŸ“ˆ Investment</option>
                <option value="other">ğŸ“‹ Other</option>
              </select>
              <div class="date-filters">
                <input type="date" id="date-from" class="date-input" placeholder="From">
                <input type="date" id="date-to" class="date-input" placeholder="To">
              </div>
              <div class="amount-filters">
                <input type="number" id="amount-min" placeholder="Min Amount" class="amount-input" step="0.01">
                <input type="number" id="amount-max" placeholder="Max Amount" class="amount-input" step="0.01">
              </div>
              <button class="clear-filters-btn" id="clear-filters">
                <i class="fas fa-times"></i> Clear Filters
              </button>
            </div>
          </div>
        </div>
        <ul id="list" class="list">
          <!-- Transactions will be added here -->
        </ul>
      </div>

      <!-- Data Management Section -->
      <div class="data-management-section">
        <h3><i class="fas fa-database"></i> Data Management</h3>
        <div class="data-actions">
          <div class="export-section">
            <h4>Export Data</h4>
            <div class="export-buttons">
              <button class="export-btn" id="export-csv">
                <i class="fas fa-file-csv"></i> Quick CSV
              </button>
              <button class="export-btn pdf-btn" id="export-pdf">
                <i class="fas fa-file-pdf"></i> Quick PDF
              </button>
              <button class="export-btn advanced-btn" id="open-export-modal">
                <i class="fas fa-cog"></i> Advanced Export
              </button>
            </div>
          </div>
          <div class="import-section">
            <h4>Import Data</h4>
            <div class="import-controls">
              <input type="file" id="import-file" accept=".csv,.json" class="file-input">
              <label for="import-file" class="file-label">
                <i class="fas fa-upload"></i> Choose File
              </label>
              <button class="import-btn" id="import-data" disabled>
                <i class="fas fa-download"></i> Import Data
              </button>
            </div>
            <div class="import-options">
              <label class="checkbox-label">
                <input type="checkbox" id="merge-data" checked>
                <span class="checkmark"></span>
                Merge with existing data
              </label>
            </div>
          </div>
        </div>
      </div>

      <!-- Export Modal -->
      <div class="export-modal" id="export-modal">
        <div class="export-modal-content">
          <div class="export-modal-header">
            <h3><i class="fas fa-download"></i> Export Expenses</h3>
            <button class="modal-close-btn" id="export-modal-close">
              <i class="fas fa-times"></i>
            </button>
          </div>

          <div class="export-modal-body">
            <!-- Format Selection -->
            <div class="export-format-section">
              <h4>Export Format</h4>
              <div class="format-options">
                <label class="format-option">
                  <input type="radio" name="export-format" id="export-format" value="csv" checked>
                  <div class="format-card">
                    <i class="fas fa-file-csv"></i>
                    <span class="format-name">CSV</span>
                    <span class="format-desc">Excel compatible</span>
                  </div>
                </label>
                <label class="format-option">
                  <input type="radio" name="export-format" value="pdf">
                  <div class="format-card">
                    <i class="fas fa-file-pdf"></i>
                    <span class="format-name">PDF Report</span>
                    <span class="format-desc">With charts & summary</span>
                  </div>
                </label>
              </div>
            </div>

            <!-- Filters -->
            <div class="export-filters-section">
              <h4>Filter Options</h4>
              <div class="filter-grid">
                <div class="form-control">
                  <label for="export-start-date">Start Date</label>
                  <input type="date" id="export-start-date">
                </div>
                <div class="form-control">
                  <label for="export-end-date">End Date</label>
                  <input type="date" id="export-end-date">
                </div>
                <div class="form-control">
                  <label for="export-category-filter">Category</label>
                  <select id="export-category-filter">
                    <option value="all">All Categories</option>
                    <option value="food">ğŸ½ï¸ Food & Dining</option>
                    <option value="transport">ğŸš— Transportation</option>
                    <option value="shopping">ğŸ›’ Shopping</option>
                    <option value="entertainment">ğŸ¬ Entertainment</option>
                    <option value="utilities">ğŸ’¡ Bills & Utilities</option>
                    <option value="healthcare">ğŸ¥ Healthcare</option>
                    <option value="other">ğŸ“‹ Other</option>
                  </select>
                </div>
                <div class="form-control">
                  <label for="export-type-filter">Type</label>
                  <select id="export-type-filter">
                    <option value="all">All Types</option>
                    <option value="income">ğŸ’° Income Only</option>
                    <option value="expense">ğŸ’¸ Expenses Only</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- Preview -->
            <div class="export-preview-section">
              <h4>Export Preview</h4>
              <div class="export-preview" id="export-preview">
                <div class="export-preview-loading">Loading preview...</div>
              </div>
            </div>
          </div>

          <div class="export-modal-footer">
            <button type="button" class="btn-cancel" id="export-cancel-btn">Cancel</button>
            <button type="button" class="btn-submit" id="export-submit-btn">
              <i class="fas fa-download"></i> Export
            </button>
          </div>
        </div>
      </div>

      <!-- Add Transaction Form -->
      <div class="form-section">
        <h3><i class="fas fa-plus-circle"></i> Add New Transaction</h3>
        <form id="form" class="transaction-form">
          <div class="form-row">
            <div class="form-control">
              <label for="text">Description</label>
              <input type="text" id="text" placeholder="Enter transaction description" required />
            </div>
            <div class="form-control">
              <label for="category">Category <span id="category-confidence" class="confidence-badge hidden"></span></label>
              <select id="category" required>
                <option value="">Select Category</option>
                <option value="food">ğŸ½ï¸ Food & Dining</option>
                <option value="transport">ğŸš— Transportation</option>
                <option value="shopping">ğŸ›’ Shopping</option>
                <option value="entertainment">ğŸ¬ Entertainment</option>
                <option value="bills">ğŸ’¡ Bills & Utilities</option>
                <option value="healthcare">ğŸ¥ Healthcare</option>
                <option value="education">ğŸ“š Education</option>
                <option value="travel">âœˆï¸ Travel</option>
                <option value="salary">ğŸ’¼ Salary</option>
                <option value="freelance">ğŸ’» Freelance</option>
                <option value="investment">ğŸ“ˆ Investment</option>
                <option value="other">ğŸ“‹ Other</option>
              </select>
            </div>
          </div>
          <div class="form-row">
            <div class="form-control">
              <label for="amount">Amount</label>
              <input type="number" id="amount" placeholder="Enter amount" step="0.01" required>
              <small>Tip: Use negative values for expenses, positive for income</small>
            </div>
            <div class="form-control">
              <label for="currency">Currency</label>
              <select id="currency" required>
                <option value="">Loading currencies...</option>
              </select>
            </div>
          </div>
          <div class="form-row">
            <div class="form-control">
              <label for="type">Transaction Type</label>
              <select id="type" required>
                <option value="">Select Type</option>
                <option value="income">ğŸ’° Income</option>
                <option value="expense">ğŸ’¸ Expense</option>
              </select>
            </div>
            <div class="form-control"></div>
          </div>
          <button type="submit" class="btn-submit">
            <i class="fas fa-plus"></i>
            Add Transaction
          </button>
        </form>
      </div>

      <!-- Recurring Expenses Section -->
      <div class="recurring-section" id="recurring-section">
        <div class="section-header">
          <h3><i class="fas fa-sync-alt"></i> Recurring Expenses & Subscriptions</h3>
          <button class="add-recurring-btn" id="add-recurring-btn">
            <i class="fas fa-plus"></i> Add Recurring
          </button>
        </div>

        <!-- Recurring Statistics -->
        <div class="recurring-stats" id="recurring-stats">
          <!-- Stats will be rendered here -->
        </div>

        <!-- Recurring Expenses List -->
        <div class="recurring-list" id="recurring-list">
          <!-- Recurring expenses will be rendered here -->
        </div>
      </div>

      <!-- Recurring Expense Modal -->
      <div class="recurring-modal" id="recurring-modal">
        <div class="recurring-modal-content">
          <div class="recurring-modal-header">
            <h3 id="recurring-modal-title">Add Recurring Expense</h3>
            <button class="modal-close-btn" id="recurring-modal-close">
              <i class="fas fa-times"></i>
            </button>
          </div>
          <form id="recurring-form" class="recurring-form">
            <input type="hidden" id="recurring-id">

            <div class="form-row">
              <div class="form-control">
                <label for="recurring-description">Description *</label>
                <input type="text" id="recurring-description" placeholder="e.g., Netflix Subscription" required>
              </div>
              <div class="form-control">
                <label for="recurring-amount">Amount (â‚¹) *</label>
                <input type="number" id="recurring-amount" placeholder="499.00" step="0.01" min="0.01" required>
              </div>
            </div>

            <div class="form-row">
              <div class="form-control">
                <label for="recurring-category">Category *</label>
                <select id="recurring-category" required>
                  <option value="">Select Category</option>
                  <option value="subscription">ğŸ“º Subscription</option>
                  <option value="rent">ğŸ  Rent</option>
                  <option value="insurance">ğŸ›¡ï¸ Insurance</option>
                  <option value="utilities">ğŸ’¡ Utilities</option>
                  <option value="entertainment">ğŸ¬ Entertainment</option>
                  <option value="food">ğŸ½ï¸ Food</option>
                  <option value="transport">ğŸš— Transport</option>
                  <option value="healthcare">ğŸ¥ Healthcare</option>
                  <option value="shopping">ğŸ›’ Shopping</option>
                  <option value="other">ğŸ“‹ Other</option>
                </select>
              </div>
              <div class="form-control">
                <label for="recurring-type">Type *</label>
                <select id="recurring-type" required>
                  <option value="expense">ğŸ’¸ Expense</option>
                  <option value="income">ğŸ’° Income</option>
                </select>
              </div>
            </div>

            <div class="form-row">
              <div class="form-control">
                <label for="recurring-frequency">Frequency *</label>
                <select id="recurring-frequency" required>
                  <option value="monthly">Monthly</option>
                  <option value="weekly">Weekly</option>
                  <option value="biweekly">Bi-weekly</option>
                  <option value="daily">Daily</option>
                  <option value="quarterly">Quarterly</option>
                  <option value="yearly">Yearly</option>
                </select>
              </div>
              <div class="form-control">
                <label for="recurring-reminder-days">Remind Before (days)</label>
                <input type="number" id="recurring-reminder-days" value="3" min="0" max="30">
              </div>
            </div>

            <div class="form-row">
              <div class="form-control">
                <label for="recurring-start-date">Start Date *</label>
                <input type="date" id="recurring-start-date" required>
              </div>
              <div class="form-control">
                <label for="recurring-next-due">Next Due Date *</label>
                <input type="date" id="recurring-next-due" required>
              </div>
            </div>

            <div class="form-row">
              <div class="form-control">
                <label for="recurring-end-date">End Date (optional)</label>
                <input type="date" id="recurring-end-date">
              </div>
              <div class="form-control checkbox-control">
                <label class="checkbox-label">
                  <input type="checkbox" id="recurring-auto-create" checked>
                  <span class="checkmark"></span>
                  Auto-create expense on due date
                </label>
              </div>
            </div>

            <div class="form-control full-width">
              <label for="recurring-notes">Notes (optional)</label>
              <textarea id="recurring-notes" rows="3" placeholder="Add any notes..."></textarea>
            </div>

            <div class="modal-actions">
              <button type="button" class="btn-cancel" id="recurring-cancel-btn">Cancel</button>
              <button type="submit" class="btn-submit">
                <i class="fas fa-save"></i> Save
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </main>

  <!-- Currency Settings Modal -->
  <div id="currency-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3><i class="fas fa-money-bill-wave"></i> Currency Settings</h3>
        <span class="close-modal" onclick="closeCurrencyModal()">&times;</span>
      </div>
      <div class="modal-body">
        <div class="form-control">
          <label for="preferred-currency">Preferred Currency</label>
          <select id="preferred-currency" class="currency-select">
            <option value="">Loading currencies...</option>
          </select>
          <small>All expenses will be converted to this currency for display</small>
        </div>
        <div class="form-control">
          <label>Exchange Rate Info</label>
          <div class="exchange-rate-info" id="exchange-rate-info">
            <p>Select a currency to see current exchange rates</p>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" onclick="closeCurrencyModal()">Cancel</button>
        <button class="btn-submit" onclick="saveCurrencyPreference()">Save Settings</button>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-section">
        <div class="footer-logo">
          <i class="fas fa-wallet"></i>
          <span>ExpenseFlow</span>
        </div>
        
        <div class="footer-section">
          <h4>Company</h4>
          <ul class="footer-links">
            <li><a href="AboutUs.html">About Us</a></li>
            <li><a href="PrivacyPolicy.html">Privacy Policy</a></li>
            <li><a href="terms_service.html">Terms of Service</a></li>
            <li><a href="#">Contact</a></li>
          </ul>
        </div>
      </div>

      <div class="footer-section">
        <h4>Features</h4>
        <ul class="footer-links">
          <li><a href="#">Expense Tracking</a></li>
          <li><a href="#">Budget Planning</a></li>
          <li><a href="#">Analytics Dashboard</a></li>
          <li><a href="#">Goal Setting</a></li>
        </ul>
      </div>

      <div class="footer-section">
        <h4>Resources</h4>
        <ul class="footer-links">
          <li><a href="#">Help Center</a></li>
          <li><a href="#">Financial Tips</a></li>
          <li><a href="#">Video Tutorials</a></li>
          <li><a href="#">Community</a></li>
        </ul>
      </div>

      <div class="footer-section">
        <h4>Company</h4>
        <ul class="footer-links">
          <li><a href="#">About Us</a></li>
          <li><a href="#">Privacy Policy</a></li>
          <li><a href="#">Terms of Service</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
      </div>
    </div>

    <div class="footer-bottom">
      <div class="footer-container">
        <p>&copy; 2026 ExpenseFlow. All rights reserved. Made with â¤ï¸ for better financial management.</p>
        <div class="footer-stats">
          <span>ğŸ† Trusted by 10,000+ users</span>
          <span>ğŸ’° â‚¹50M+ tracked</span>
          <span>ğŸ“Š 99.9% uptime</span>
        </div>
      </div>
    </div>
  </footer>

  <script src="trackerscript.js"></script>
  <script src="export-feature.js"></script>

  <!-- PWA Installation Prompt -->
  <div id="install-prompt" class="install-prompt" style="display: none;">
    <div class="install-prompt-content">
      <div class="install-prompt-header">
        <i class="fas fa-download"></i>
        <h3>Install ExpenseFlow</h3>
      </div>
      <p>Install ExpenseFlow for quick access and offline functionality!</p>
      <div class="install-prompt-actions">
        <button id="install-button" class="install-btn">
          <i class="fas fa-plus"></i> Install
        </button>
        <button id="install-dismiss" class="dismiss-btn">
          <i class="fas fa-times"></i> Not now
        </button>
      </div>
    </div>
  </div>

  <!-- Offline Indicator -->
  <div id="offline-indicator" class="offline-indicator" style="display: none;">
    <i class="fas fa-wifi-slash"></i>
    <span>You're offline. Changes will be saved locally.</span>
  </div>

  <!-- Update Available Notification -->
  <div id="update-notification" class="update-notification" style="display: none;">
    <div class="update-content">
      <i class="fas fa-sync-alt"></i>
      <span>A new version is available!</span>
      <button id="update-button" class="update-btn">Update Now</button>
    </div>
  </div>
  <!-- Chatbot -->
  <script type="module" src="chatbot/chatbot.js"></script>

</body>

</html>
